@startuml
left to right direction

actor Administrativo

agent ": ClinicaFIS" as FIS
collections ": Paciente" as p
agent "pac : Paciente" as pac
collections ": Médico" as m
agent listaCitas
agent ": ExepciónFecha" as exp
agent "med : Médico" as med
agent "listaCitasMédico" as l
agent "cita : Cita" as c
agent listaPosiblesFechasHoras

Administrativo -- FIS : "listaPosiblesfechashoras = obtenerPosiblesCitas(idMédico, idPaciente)"
FIS -- p : "1: pac = buscarPaciente(idPaciente)\n<<A>>"
FIS -- pac : "2: listaCitas = obtenerCitas()\n<<L>>"
FIS -- listaCitas : "3:*[para todas]\n<<L>>"
FIS -- exp : "3.1:[cita.fecha >= fechaActual && cita.Estado==PENDIENTE]\n<<L>>"
FIS -- m : "4: med = buscar(idMédico)\n<<A>>"
FIS -- med : "5: listaCitasMédico = obtenerCitas\n<<L>>"
FIS -- l : "6: *[para todas]\n<<L>>"
FIS -- c : "6.1: [cita.fecha >= fechaActual && cita.Estado == LIBRE]\n<<L>>"
FIS -- listaPosiblesFechasHoras : "6.1.1: incluir(fecha)\n<<L>>"
@enduml
