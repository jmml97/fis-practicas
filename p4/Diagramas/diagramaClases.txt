@startuml

class ClinicaFIS {
 direccion : String
 telefono : String
 web : String

 obtenerDiaHoy() : Fecha
 crearPaciente(dni : String, nombre : String, numeroTarjeta : String, direccion : String, telefono : String, fechaNacimiento : Fecha) : TODO
 consultarPaciente(idPaciente: TODO) : TODO
 datosClinicosPaciente(idPaciente: TODO) : TODO
 anularCita(idPaciente : String, idCita : String) : String
 pedirCita(idPaciente : String, idMédico : String, fecha : Fecha) : String
}

class Paciente {
 dni : String
 nombre : String
 numeroTarjeta : int
 direccion : String
 telefono : String
 fechaNacimiento : String
 activo : Boolean

 crear(dni : String, nombre : String, numeroTarjeta : String, direccion : String, telefono : String, fechaNacimiento : Fecha, activo : Boolean)
 obtenerInfoHC() : TODO
 incluirHC(HC: HistorialClinico)
 obtenerInfoHC() : TODO
 obtenerCitas() : Citas[0..*]
}

class HistorialClinico {
 {static} ultHistorial: int
 numeroHistoria : int
 fechaApertura : Fecha

 crear(fechaApertura : Fecha, paciente : Paciente)
 obtenerNumeroHistoria() : int
 obtenerFechaApertura() : Fecha
 obtenerInfoAnotaciones() : TODO
}

class AnotacionHC {
 fechaAnotacion : Fecha
 comentario : String
 
 obtenerNombreSanitario() : String
}

class Sanitario {
 nombre : String
 dni : String
 puesto : TODO

}

class Cita {
 hora : Hora
 fecha : Fecha

 cambiarEstado(estado : TipoEstado) : void
 obtenerMédico()
 buscarCita(idMédico : Médico, fecha : Fecha)
}

enum TipoEstado {
 PENDIENTE
 ENESPERA
 ATENDIDA
 LIBRE
}

class ExcepcionCita {
 crear(error : String)
}

class ExcepcionFecha {
 crear(error : String)
}

class Medico {
 númeroColegiado : int
 especialidadMédica : String

 obtenerCitas() : Citas[o..*]
}

ClinicaFIS -- "1..*" Paciente
Paciente -- "0..1" HistorialClinico
ClinicaFIS ..> HistorialClinico
AnotacionHC -> Sanitario
HistorialClinico -* "0..*" AnotacionHC
Cita -- TipoEstado : "estado"
ClinicaFIS --> "0..*" Cita
Cita .. Paciente
ClinicaFIS --> ExcepcionCita
ClinicaFIS --> "0..*" Medico
ClinicaFIS --> ExcepcionFecha
Cita -- Medico
@enduml
